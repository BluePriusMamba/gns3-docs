(window.webpackJsonp=window.webpackJsonp||[]).push([[76],{174:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return c})),a.d(t,"metadata",(function(){return r})),a.d(t,"rightToc",(function(){return i})),a.d(t,"default",(function(){return s}));var n=a(2),o=(a(0),a(184));const c={id:"packet",title:"GNS3 on Packet",sidebar_label:"GNS3 on Packet"},r={id:"installation/packet",isDocsHomePage:!1,title:"GNS3 on Packet",description:"What is Packet?",source:"@site/docs/installation/packet.md",permalink:"/gns3-docs/docs/installation/packet",editUrl:"https://github.com/mother/gns3-docs/blob/master/docs/installation/packet.md",sidebar_label:"GNS3 on Packet",sidebar:"someSidebar",previous:{title:"Upgrade GNS3",permalink:"/gns3-docs/docs/installation/upgrade-gns3"},next:{title:"GNS3 Setup Wizard - Local server",permalink:"/gns3-docs/docs/getting-started/setup-local-server"}},i=[{value:"What is Packet?",id:"what-is-packet",children:[{value:"Special offers for GNS3 users only:",id:"special-offers-for-gns3-users-only",children:[]}]},{value:"Sign up with Packet",id:"sign-up-with-packet",children:[]},{value:"Add your SSH Key",id:"add-your-ssh-key",children:[]},{value:"Deploy your Server",id:"deploy-your-server",children:[]},{value:"Install GNS3",id:"install-gns3",children:[]},{value:"Connect GNS3 to the Server",id:"connect-gns3-to-the-server",children:[{value:"VPN Setup",id:"vpn-setup",children:[]},{value:"VPN Connection on Linux",id:"vpn-connection-on-linux",children:[]},{value:"VPN Connection on Windows",id:"vpn-connection-on-windows",children:[]},{value:"VPN Connection on Mac",id:"vpn-connection-on-mac",children:[]}]},{value:"Configure GNS3 in order to use the new server",id:"configure-gns3-in-order-to-use-the-new-server",children:[]},{value:"Backup Solutions",id:"backup-solutions",children:[]}],l={rightToc:i};function s({components:e,...t}){return Object(o.b)("wrapper",Object(n.a)({},l,t,{components:e,mdxType:"MDXLayout"}),Object(o.b)("h2",{id:"what-is-packet"},"What is Packet?"),Object(o.b)("p",null,"Packet.net is a bare metal cloud provider, with datacenter locations near NYC, Silicon Valley, Amsterdam and Tokyo.  "),Object(o.b)("p",null,"Unlike AWS or Google Cloud (which provide only Virtual Machines), Packet gives you full access to a true dedicated server, but with the same automation and flexibility you expect from a public cloud. Since you have direct access to the virtualization instructions on the CPU, running GNS3 on Packet is a great experience."),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/1.jpg",alt:"screenshot"}))),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Video (Part 1): ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.youtube.com/watch?v=5MzYIh3FK2g"}),"https://www.youtube.com/watch?v=5MzYIh3FK2g")),Object(o.b)("li",{parentName:"ul"},"Video (Part 2): ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.youtube.com/watch?v=KyxJ3l7GypU&feature=emb_title"}),"https://www.youtube.com/watch?v=KyxJ3l7GypU&feature=emb_title"))),Object(o.b)("h3",{id:"special-offers-for-gns3-users-only"},"Special offers for GNS3 users only:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},Object(o.b)("strong",{parentName:"li"},"$25 Trial Credit")," - Packet is offering $25 in credit for GNS3 users to help them kick the tires. Simply visit the landing page, or use code \u201cGNS3\u201d when signing up."),Object(o.b)("li",{parentName:"ol"},Object(o.b)("strong",{parentName:"li"},"Discounted Monthly")," - At Packet you pay hourly for real dedicated hardware, with no required long term contracts. However, for those that need a server up ongoing, Packet is making a special 30% discount for commitments on the powerful c1.small.x86 server. To take advantage of the discount, just email ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"mailto:help@packet.net"}),"help@packet.net")," and mention the \u2018GNS3 Discount\u2019 to arrange.")),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/2.jpg",alt:"screenshot"}))),Object(o.b)("p",null,"(the landing page for the $25 credit available for GNS3 users)"),Object(o.b)("h2",{id:"sign-up-with-packet"},"Sign up with Packet"),Object(o.b)("p",null,"First, you will need to sign up for an account at Packet.  There is sometimes a manual review, which you can help to avoid by using a work email address (if you have one) and disconnecting from any VPN during the signup process.  If you are flagged for manual review, don\u2019t worry!  The Packet team is very responsive and will work with you to get everything squared away.  "),Object(o.b)("p",null,"A few things:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"A valid payment method is required even if you have a promo code.  For more information about how Packet handles billing, ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://help.packet.net/faq/billing"}),"check out this article"),".  "),Object(o.b)("li",{parentName:"ul"},"Once your account is activated, we recommend activating Two Factor Authentication (2FA).  Simply visit 'Personal Settings' -> 'Security', scroll down to the Two Factor Authentication section, select either \u201c set up using an app\u201d or \u201cset up using SMS\u201d, and follow the instructions:")),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/3.jpg",alt:"screenshot"}))),Object(o.b)("p",null,"Receiving your 2FA pin via SMS isn\u2019t secure as using an authenticator app, like Google Authenticator.  When using the \u201cset up using an app\u201d option, scan in the QR code with your app, and you\u2019ll receive a 6 digit pin (2FA token) that is only valid for a small amount of time, before a new token appears. Enter the token within that time, and click Enable to finish enabling 2FA for login."),Object(o.b)("p",null,"When 2FA is enabled, you will log into your account using your username/password as usual:"),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/4.jpg",alt:"screenshot"}))),Object(o.b)("p",null,"Then you\u2019ll  be presented with the second page, where you\u2019d enter a new 2FA token. You\u2019d open your authenticator app, select the entry that\u2019s associated with your Packet.net user account, and enter the token to finish logging in:"),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/5.jpg",alt:"screenshot"}))),Object(o.b)("h2",{id:"add-your-ssh-key"},"Add your SSH Key"),Object(o.b)("p",null,"Next, add your SSH key to your account, since Packet servers can only be accessed via SSH. ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://help.packet.net/article/2-deploy-a-server"}),"Here is a great article")," which will help you get started."),Object(o.b)("p",null,"While in the Personal Settings view in the Portal, click \u201cSSH Keys\u201d, and then \u201cAdd Key\u201d to open up a sidebar:"),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/6.jpg",alt:"screenshot"}))),Object(o.b)("p",null,"(If you need help creating your public/private key pair, ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://help.packet.net/article/31-ssh-access"}),"this article")," will walk you through the steps)"),Object(o.b)("p",null,"In the sidebar, give your key a title, and then paste the contents of your public key into the box shown below, and click Add:"),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/7.jpg",alt:"screenshot"}))),Object(o.b)("p",null,"Your key will be added to your Portal:"),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/8.jpg",alt:"screenshot"}))),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Video: ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.youtube.com/watch?v=nWnxKHmaGNU"}),"https://www.youtube.com/watch?v=nWnxKHmaGNU"))),Object(o.b)("h2",{id:"deploy-your-server"},"Deploy your Server"),Object(o.b)("p",null,"Once you are ready, you can go ahead and deploy a new server with the Ubuntu 18.04  OS in the Packet location which is closest to you.  "),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"While GNS3 works on the ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.packet.com/cloud/servers/t1-small/"}),"t1.small.x86")," server, you need to use at least a ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.packet.com/cloud/servers/c1-small/"}),"c1.small.x86")," server for a better virtualization support."),Object(o.b)("li",{parentName:"ul"},"GNS3 is not supported for Packet\u2019s ARM server offerings.."),Object(o.b)("li",{parentName:"ul"},"A listing of available bare metal servers can be found ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.packet.com/cloud/servers/"}),"here"),".")),Object(o.b)("div",{className:"admonition admonition-important alert alert--info"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"important")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"At Packet you are getting your own dedicated bare metal machine that is yours alone from the time you provision it until you actually delete the device from your account.  So even if you were to power it down, it would still accrue usage until you actually delete it completely."))),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Video: ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.youtube.com/watch?v=meygA4aEN5I"}),"https://www.youtube.com/watch?v=meygA4aEN5I"))),Object(o.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"caution")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"If you use IOU, the name of the machine should be exactly the name you have in your license file. The characters case is important: gns3vm is different from GNS3VM."))),Object(o.b)("p",null,"First, click on Organization Settings in the Portal, click ",Object(o.b)("strong",{parentName:"p"},"Projects"),", and click ",Object(o.b)("strong",{parentName:"p"},"'Create New Project'"),":"),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/9.jpg",alt:"screenshot"}))),Object(o.b)("p",null,"Give the project a name, and click Create to start the deployment process for a server:"),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/10.jpg",alt:"screenshot"}))),Object(o.b)("p",null,"Since there currently are no servers provisioned and deployed in your new project, click \u201cDeploy Servers\u201d:"),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/11.jpg",alt:"screenshot"}))),Object(o.b)("p",null,"On the next screen, give your server a hostname, select the location and type of server, as well as the OS you\u2019d like installed  (Ubuntu recommended):"),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/12.jpg",alt:"screenshot"}))),Object(o.b)("p",null,"When ready, click the Deploy Servers to start the automated provisioning process:"),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/13.jpg",alt:"screenshot"}))),Object(o.b)("p",null,"This will take anywhere between 5 to 10 minutes, depending on the hardware. If you click the symbol to the right  (below \u201cTags\u201d), you can open up a sidebar to watch the progress of the automated provisioning:"),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/14.jpg",alt:"screenshot"}))),Object(o.b)("p",null,"When provisioning is complete, you can use SSH to connect to the public IP of your server:"),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/15.jpg",alt:"screenshot"}))),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"You\u2019ll need to log in as the user \u201croot\u201d with no password, using the private key that was generated earlier, when you created the public/private keypair. This step varies between the terminal you use."))),Object(o.b)("h2",{id:"install-gns3"},"Install GNS3"),Object(o.b)("p",null,"With your server available, you can install GNS3. Copy and paste the following commands on the terminal."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"cd /tmp\ncurl https://raw.githubusercontent.com/GNS3/gns3-server/master/scripts/remote-install.sh > gns3-remote-install.sh\nbash gns3-remote-install.sh --with-openvpn --with-iou --with-i386-repository\n")),Object(o.b)("p",null,"If everything is OK, you will see this message:"),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/16.jpg",alt:"screenshot"}))),Object(o.b)("p",null,"Reboot the server from the Packet portal or by issuing a reboot command on the terminal.\nThat\u2019s it!"),Object(o.b)("h2",{id:"connect-gns3-to-the-server"},"Connect GNS3 to the Server"),Object(o.b)("h3",{id:"vpn-setup"},"VPN Setup"),Object(o.b)("p",null,"The next time you SSH in you will see this message:"),Object(o.b)("p",null,"Download the ",Object(o.b)("strong",{parentName:"p"},".opvn")," certificate from the link shown on your server. You can also find the certificate in /root/client.opvn"),Object(o.b)("h3",{id:"vpn-connection-on-linux"},"VPN Connection on Linux"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"# sudo apt-get install openvpn\n# sudo openvpn gns3vm.opvn\nTue Apr 25 17:12:48 2017 [OpenVPN] Peer Connection Initiated with [AF_INET]X.X.X.X:1194\nTue Apr 25 17:12:51 2017 TUN/TAP device tun0 opened\nTue Apr 25 17:12:51 2017 Initialization Sequence Completed\n")),Object(o.b)("h3",{id:"vpn-connection-on-windows"},"VPN Connection on Windows"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Download and install ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://openvpn.net/community-downloads/"}),"OpenVPN for Windows")," (be careful to use the version associated with your OS version)."),Object(o.b)("li",{parentName:"ul"},"Click \u201cShow Hidden Items\u201d on the taskbar"),Object(o.b)("li",{parentName:"ul"},"Right-click on \u201cOpenVPN-GUI\u201d and select \u201cimport file\u201d"),Object(o.b)("li",{parentName:"ul"},"Select the .ovpn file you downloaded, and import it"),Object(o.b)("li",{parentName:"ul"},"Right-click on OpenVPN-GUI again, and select \u201cConnect\u201d")),Object(o.b)("h3",{id:"vpn-connection-on-mac"},"VPN Connection on Mac"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Download and install ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://tunnelblick.net/"}),"Tunnelblick"),"."),Object(o.b)("li",{parentName:"ul"},"After double clicking on the client certificate, it install the config for you. And the setup will be done.  Now if you click on the tunnelblick icon in the OSX top bar. You can connect to the VPN.")),Object(o.b)("p",null,"If the VPN connection works, this page should resolve:"),Object(o.b)("p",null,Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"http://172.16.253.1:3080/"}),"http://172.16.253.1:3080/")),Object(o.b)("h2",{id:"configure-gns3-in-order-to-use-the-new-server"},"Configure GNS3 in order to use the new server"),Object(o.b)("p",null,"If you want to use a local GNS3 installation as well as a remote installation, you can use the ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.gns3.com/1nCRIQ3AfdPbiYeL8RSC28Y_skgRJOfxPlz1MCeX94U4/index.html"}),"settings profiles")," CHECKLINK to alternate between them."),Object(o.b)("p",null,"At startup in the setup wizard choose ",Object(o.b)("strong",{parentName:"p"},"Run everything on a remote server")),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/17.jpg",alt:"screenshot"}))),Object(o.b)("p",null,"And put the server settings. The IP needs to be ",Object(o.b)("strong",{parentName:"p"},"172.16.253.1")),Object(o.b)("p",null,Object(o.b)("img",Object(n.a)({parentName:"p"},{src:"../../img/installation/packet/18.jpg",alt:"screenshot"}))),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},"Video: ",Object(o.b)("a",Object(n.a)({parentName:"li"},{href:"https://www.youtube.com/watch?v=ybjS8GV6k5g"}),"https://www.youtube.com/watch?v=ybjS8GV6k5g"))),Object(o.b)("h2",{id:"backup-solutions"},"Backup Solutions"),Object(o.b)("p",null,"If you don\u2019t want to keep your Packet server running continually (hence accruing charges even during the time that you are not actively using GNS3), you can save/backup your GNS3 projects and have them ready when you deploy a new server in the future."),Object(o.b)("p",null,"If you take a look at the GNS3 server config file at /etc/gns3/gns3_server.conf you will see the following:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"root@gns3vm:~# cat /etc/gns3/gns3_server.conf\n[Server]\nhost = 172.16.253.1\nport = 3080\nimages_path = /opt/gns3/images\nprojects_path = /opt/gns3/projects\nreport_errors = True\n\n[Qemu]\nenable_kvm = True\n")),Object(o.b)("p",null,"So, we can see that GNS3 is saving the images and projects on the /opt/gns3/ directory."),Object(o.b)("p",null,"The first option here would be to scp those 2 folders on your local computer. We would have to compress them first, for an easier transfer."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"cd /opt/gns3/\ntar -czvf gns3-backup.tar.gz projects/ images/\n")),Object(o.b)("p",null,"That command will create a new compressed file named gns3-backup.tar.gz which now is easier to ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"http://www.hypexr.org/linux_scp_help.php"}),"scp to your local computer"),"."),Object(o.b)("p",null,"When you deploy a new server, you can scp the backup file back to the server, and then extract it back to the /opt/gns3/ directory."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"cd /opt/gns3/\ntar -xzvf gns3-backup.tar.gz\n")),Object(o.b)("p",null,"As these directories might get bigger, the scp option might become a struggle, so we come to the second option, which would be to take advantage of Packet ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://packet.kayako.com/article/63-elastic-block-storage"}),"Block Storage service"),"."),Object(o.b)("p",null,"Block Storage is a network attached storage that can be moved between servers, and it\u2019s a great option to backup your projects. A 100GB Volume of the Standard Tier would cost ~$0.25 for a day or ~$7.5 for the whole month.  "),Object(o.b)("p",null,"Block Storage is only available in Packet\u2019s EWR1, SJC1, and AMS facilities.  "),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(n.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(n.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(n.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"note")),Object(o.b)("div",Object(n.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("p",{parentName:"div"},"This method requires that you have a good working knowledge of the Linux command line, as you will have to work with network attached storage, and manually copy directories around.  "))),Object(o.b)("p",null,"Packet does not offer any managed services, and you will be responsible for your own data. Here is a ",Object(o.b)("a",Object(n.a)({parentName:"p"},{href:"https://help.packet.net/technical/storage/packet-block-storage-linux"}),"knowledge base article")," explaining the process of attaching and detaching the volumes on a Packet server."),Object(o.b)("p",null,"In short you would have to do the following, after you create the volume and attach it to the server on the portal."),Object(o.b)("p",null,"Let\u2019s say the volume is named ",Object(o.b)("strong",{parentName:"p"},"volume-3b36a278")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'packet-block-storage-attach -m queue\necho -e "o\\nn\\np\\n1\\n\\n\\nw" | fdisk /dev/mapper/volume-3b36a278\nkpartx -u /dev/mapper/volume-3b36a278-part1\nmkfs.ext4 /dev/mapper/volume-3b36a278-part1\nmkdir /mnt/block\nmount -t ext4 /dev/mapper/volume-3b36a278-part1 /mnt/block\necho "/dev/mapper/volume-3b36a278-part1 /mnt/block ext4 _netdev 0 0" >> /etc/fstab\n')),Object(o.b)("p",null,"With those commands, we have properly attached, formatted and mounted the volume on the /mnt/block directory."),Object(o.b)("p",null,"Then we can copy the 2 important directories we mentioned above ( /opt/gns3/images, /opt/gns3/projects )."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"cd /opt/gns3/\ncp -ar images/ /mnt/block/\ncp -ar projects/ /mnt/block/\n")),Object(o.b)("p",null,"Now that we have copied them to the storage volume we can detach it from the server with:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),"packet-block-storage-detach\n")),Object(o.b)("p",null,"We would have to detach it on the portal too."),Object(o.b)("p",null,"The next time that we attach this volume to a new server, after doing so in portal, we just have to use the following commands on the server:"),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{}),'packet-block-storage-attach -m queue\nmkdir /mnt/block\nmount -t ext4 /dev/mapper/volume-3b36a278-part1 /mnt/block\necho "/dev/mapper/volume-3b36a278-part1 /mnt/block ext4 _netdev 0 0" >> /etc/fstab\n')),Object(o.b)("p",null,"And then we can copy/move the 2 directories we need back to /opt/gns3/."))}s.isMDXComponent=!0},184:function(e,t,a){"use strict";a.d(t,"a",(function(){return b})),a.d(t,"b",(function(){return d}));var n=a(0),o=a.n(n);function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s=o.a.createContext({}),p=function(e){var t=o.a.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},b=function(e){var t=p(e.components);return o.a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},h=o.a.forwardRef((function(e,t){var a=e.components,n=e.mdxType,c=e.originalType,r=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),b=p(a),h=n,d=b["".concat(r,".").concat(h)]||b[h]||u[h]||c;return a?o.a.createElement(d,i(i({ref:t},s),{},{components:a})):o.a.createElement(d,i({ref:t},s))}));function d(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var c=a.length,r=new Array(c);r[0]=h;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i.mdxType="string"==typeof e?e:n,r[1]=i;for(var s=2;s<c;s++)r[s]=a[s];return o.a.createElement.apply(null,r)}return o.a.createElement.apply(null,a)}h.displayName="MDXCreateElement"}}]);